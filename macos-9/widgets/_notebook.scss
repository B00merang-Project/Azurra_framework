@mixin notebook_header() {
  border: none;
  background-color: $bg_color;

  // add 3D shadows to the frame
  @at-root
  notebook.frame {
    border: 1px solid black;
  }
  
  // add 3D shadows
  @at-root
  notebook > stack:not(:only-child) {
    background-color: gtkshade($bg_color, 1.1);
    box-shadow: inset -1px -1px gtkshade($bg_color, 0.8),
                inset 1px 1px white;    // TODO: fix top and left tabs getting cut off by this shadow
  }
  
  // add 3D shadows to headers
  &.top {
    box-shadow: 0 1px black;
  }
  &.bottom {
    box-shadow: 0 -1px black;
  }
  &.right {
    box-shadow: -1px 0 black;
  }
  &.left {
    box-shadow: 1px 0 black;
  }
}

@mixin notebook_tab($type, $pos) {
  @if $type == "base" {
    margin: 1px;
    padding: 0px 6px;
    border: 1px solid black;
    border-radius: $notebook_tab_radius;
    font-weight: normal;
    color: $fg_color;
    background-color: $bg_color;
    
    // styling portion
    @if $pos == "top" {
      margin-top: 2px;    // make unchecked tabs smaller
      margin-bottom: -1px;
      box-shadow: inset -1px 0 gtkshade($bg_color, 0.65),
                  inset 1px 1px white;
    }
    @else if $pos == "bottom" {
      margin-bottom: 2px;
      margin-top: -1px;
      box-shadow: inset -1px -1px gtkshade($bg_color, 0.65),
                  inset 1px 0 white;
    }
    @else if $pos == "right" {
      margin-right: 2px;
      margin-left: -1px;
      box-shadow: inset -1px -1px gtkshade($bg_color, 0.65),
                  inset 0 1px white;
    }
    @else if $pos == "left" {
      margin-left: 2px;
      margin-right: -1px;
      box-shadow: inset 0 -1px gtkshade($bg_color, 0.65),
                  inset 1px 1px white;
    }
  }
  
  @if $type == "checked" {
    border-radius: $notebook_tab_radius + 1px;
    background-color: gtkshade($bg_color, 1.1);
    
    @if $pos == "top" {
      margin-top: 0px;
      margin-bottom: -2px;
      border-bottom: none;
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }
    @else if $pos == "bottom" {
      margin-bottom: 0px;
      margin-top: -3px;   // compensate for inset shadow?
      border-top: none;
      border-top-left-radius: 0px;
      border-top-right-radius: 0px;
    }
    @else if $pos == "right" {
      margin-right: 0px;
      margin-left: -3px;
      border-left: none;
      border-top-left-radius: 0px;
      border-bottom-left-radius: 0px;
    }
    @else if $pos == "left" {
      margin-left: 0px;
      margin-right: -2px;
      border-right: none;
      border-top-right-radius: 0px;
      border-bottom-right-radius: 0px;
    }
  }
}
