@mixin notebook_header() {
  background-color: $bg_color;
  
  &:backdrop {
    background-color: $backdrop_bg_color;
  }
  
  // simluate "tab bar border"
  // since this is a one-time implementation, at-root usage is acceptable
  @at-root
  notebook > header {
    &.top {
      border-bottom: 4px solid #9ac7e6;
      box-shadow: 0 1px gtkshade($border_color, 0.6), inset 0 -1px #3a5c8c;
    }

    &.bottom {
      border-top: 4px solid #9ac7e6;
      box-shadow: 0 -1px gtkshade($border_color, 0.6), inset 0 1px #3a5c8c;
    }

    &.left {
      border-right: 4px solid #9ac7e6;
      box-shadow: 1px 0 gtkshade($border_color, 0.6), inset -1px 0 #3a5c8c;
    }

    &.right {
      border-left: 4px solid #9ac7e6;
      box-shadow: -1px 0 gtkshade($border_color, 0.6), inset 1px 0 #3a5c8c;
    }
  }
}

@mixin notebook_tab($type, $pos) {
  @if $type == "base" {
    margin: 1px;
    padding: 6px 20px;
    border-radius: $notebook_tab_radius;
    border: 1px solid gtkshade($border_color, 0.7);
    color: $fg_color;

    // base top tab
    @if $pos == "top" {
      margin-bottom: 1px;
      background-image: linear-gradient(
        to bottom,
        gtkshade($bg_color, 0.85) 40%,
        $base_color
      );
      box-shadow: inset 0 6px 3px -2px $light_shadow;
    }
    // base bottom tab
    @else if $pos == "bottom" {
      border-top: none;
      margin-top: 1px;
      background-image: linear-gradient(
        to top,
        gtkshade($bg_color, 0.85) 40%,
        $base_color
      );
      box-shadow: inset 0 -6px 3px -2px $light_shadow;
    }
    // base right tab
    @else if $pos == "right" {
      border-left: none;
      margin-left: 1px;
      background-image: linear-gradient(
        to left,
        gtkshade($bg_color, 0.85) 40%,
        $base_color
      );
      box-shadow: inset -6px 0 3px -2px $light_shadow;
    }
    // base left tab
    @else if $pos == "left" {
      border-right: none;
      margin-right: 1px;
      background-image: linear-gradient(
        to right,
        gtkshade($bg_color, 0.85) 40%,
        $base_color
      );
      box-shadow: inset 6px 0 3px -2px $light_shadow;
    }
  }
  @else if $type == "checked" {
    // checked top tab
    @if $pos == "top" {
      border-color: #07067b;
      border-left-color: gtkshade($selected_bg_color, 1.15);
      border-right-color: gtkshade($selected_bg_color, 1.15);
      border-bottom-color: gtkshade($selected_bg_color, 1.3);
      background-color: $base_color;
      background-image: linear-gradient(
        to bottom,
        #63a1df 35%,
        #b9edff
      );
      box-shadow: inset 0 4px 3px -2px $light_shadow;
    }
    // checked bottom tab
    @else if $pos == "bottom" {
      border-color: #07067b;
      border-left-color: gtkshade($selected_bg_color, 1.15);
      border-right-color: gtkshade($selected_bg_color, 1.15);
      border-top-color: gtkshade($selected_bg_color, 1.3);
      background-color: $base_color;
      background-image: linear-gradient(
        to top,
        #63a1df 35%,
        #b9edff
      );
      box-shadow: inset 0 -4px 3px -2px $light_shadow;
    }
    // checked right tab
    @else if $pos == "right" {
      border-color: #07067b;
      border-top-color: gtkshade($selected_bg_color, 1.15);
      border-bottom-color: gtkshade($selected_bg_color, 1.15);
      border-right-color: gtkshade($selected_bg_color, 1.3);
      background-color: $base_color;
      background-image: linear-gradient(
        to left,
        #63a1df 35%,
        #b9edff
      );
      box-shadow: inset -4px 0 3px -2px $light_shadow;
    }
    // checked left tab
    @else if $pos == "left" {
      border-color: #07067b;
      border-top-color: gtkshade($selected_bg_color, 1.15);
      border-bottom-color: gtkshade($selected_bg_color, 1.15);
      border-left-color: gtkshade($selected_bg_color, 1.3);
      background-color: $base_color;
      background-image: linear-gradient(
        to right,
        #63a1df 35%,
        #b9edff
      );
      box-shadow: inset 4px 0 3px -2px $light_shadow;
    }
  }
  @else if $type == "checked-backdrop" {
    // checked backdrop top tab
    @if $pos == "top" {
      border-color: gtkshade($backdrop_bg_color, 0.85);
      background-color: gtkshade($backdrop_bg_color, 0.85);
      background-image: linear-gradient(
        to bottom,
        $base_color 20%,
        $backdrop_bg_color 40%,
        $base_color 75%
      );
      box-shadow: inset 0 2px 3px 1px gtkalpha($dark_shadow, 0.25),
                  inset 0 1px gtkshade($bg_color, 0.55);
    }
    // checked backdrop bottom tab
    @else if $pos == "bottom" {
      border-color: gtkshade($backdrop_bg_color, 0.85);
      background-color: gtkshade($backdrop_bg_color, 0.85);
      background-image: linear-gradient(
        to top,
        $base_color 20%,
        $backdrop_bg_color 40%,
        $base_color 75%
      );
      box-shadow: inset 0 -2px 3px 1px gtkalpha($dark_shadow, 0.25),
                  inset 0 1px gtkshade($bg_color, 0.55);
    }
    // checked backdrop right tab
    @else if $pos == "right" {
      border-color: gtkshade($backdrop_bg_color, 0.85);
      background-color: gtkshade($backdrop_bg_color, 0.85);
      background-image: linear-gradient(
        to left,
        $base_color 20%,
        $backdrop_bg_color 40%,
        $base_color 75%
      );
      box-shadow: inset -2px 0 3px 1px gtkalpha($dark_shadow, 0.25),
                  inset -1px 0 gtkshade($bg_color, 0.55);
    }
    // checked backdrop left tab
    @else if $pos == "left" {
      border-color: gtkshade($backdrop_bg_color, 0.85);
      background-color: gtkshade($backdrop_bg_color, 0.85);
      background-image: linear-gradient(
        to right,
        $base_color 20%,
        $backdrop_bg_color 40%,
        $base_color 75%
      );
      box-shadow: inset 2px 0 3px 1px gtkalpha($dark_shadow, 0.25),
                  inset 1px 0 gtkshade($bg_color, 0.55);
    }
  }
}
