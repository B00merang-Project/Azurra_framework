@mixin progressbar() {
  progressbar {
    font-size: smaller;
    color: gtkmix($fg_color, $selected_fg_color, 0.5);

    > trough {
      border-radius: $progressbar_radius;
      background-color: gtkalpha($dark_shadow, 0.1);
      background-image: linear-gradient(
        to top,
        $base_color,
        gtkshade($bg_color, 1.05) 50%,
        gtkshade($bg_color, 1.02) 51%,
        gtkshade($bg_color, 0.85)
      );
    }
    
    > trough > progress {
      border: none;
      border-radius: $progressbar_radius;
      background-color: $selected_bg_color;
      background-image: linear-gradient(
        to bottom,
        gtkshade(gtkmix($selected_bg_color, $selected_fg_color, 0.45), 1.1),
        gtkshade(gtkmix($selected_bg_color, $selected_fg_color, 0.45), 0.9) 50%,
        gtkshade($selected_bg_color, 1.15) 51%,
        gtkshade($selected_bg_color, 1.01)
      );
    }
    
    &.vertical {
      > trough {
        border-radius: $progressbar_radius;
        background-color: gtkalpha($dark_shadow, 0.1);
        background-image: linear-gradient(
          to left,
          $base_color,
          gtkshade($bg_color, 1.05) 50%,
          gtkshade($bg_color, 1.02) 51%,
          gtkshade($bg_color, 0.85)
        );
      }
      
      > trough > progress {
        border: none;
        border-radius: $progressbar_radius;
        background-color: $selected_bg_color;
        background-image: linear-gradient(
          to right,
          gtkshade(gtkmix($selected_bg_color, $selected_fg_color, 0.45), 1.1),
          gtkshade(gtkmix($selected_bg_color, $selected_fg_color, 0.45), 0.9) 50%,
          gtkshade($selected_bg_color, 1.15) 51%,
          gtkshade($selected_bg_color, 1.01)
        );
      }
    }
      
    &.horizontal > trough { min-width: 150px; }
    &.vertical > trough { min-height: 80px; }

    &.horizontal > trough,
    &.horizontal > trough > progress {
      min-height: 9px;
    }

    &.vertical > trough,
    &.vertical > trough > progress {
      min-width: 9px;
    }
  }
}
