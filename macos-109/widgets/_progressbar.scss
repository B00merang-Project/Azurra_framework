@mixin progressbar() {
  progressbar {
    font-size: smaller;
    color: gtkmix($fg_color, $selected_fg_color, 0.5);

    > trough {
      border-radius: $progressbar_radius;
      border: 1px solid gtkshade($border_color, 0.9);
      background-color: gtkshade($bg_color, 0.8);
      background-image: linear-gradient(
        to bottom,
        gtkshade($bg_color, 0.9),
        gtkshade($bg_color, 0.95) 33%,
        gtkshade($bg_color, 0.98)
      );

      &:backdrop { background-color: gtkshade($backdrop_bg_color, 0.95); }
    }
    
    // TODO: remove hard-coded colors
    > trough > progress {
      border: none;
      border-radius: 0;
      background-color: $selected_bg_color;
      background-image: radial-gradient(
        45% 50% at center,
        gtkalpha($selected_bg_color, 0.1),
        transparent
      ), linear-gradient(
        to bottom,
        #abcaf2,
        #83cbf8 50%,
        #52bff7 51%,
        #addef6
      );
      background-size: 32px 16px, auto;
      box-shadow: inset 0 1px gtkalpha($light_shadow, 0.4),
                  inset 0 -1px gtkalpha($light_shadow, 0.2);

      &:backdrop { background-color: $backdrop_selected_bg_color; }
    }

    &.vertical {
      > trough {
        background-image: linear-gradient(
          to right,
          gtkshade($bg_color, 0.9),
          gtkshade($bg_color, 0.95) 33%,
          gtkshade($bg_color, 0.98)
        );

        &:backdrop { background-color: gtkshade($backdrop_bg_color, 0.95); }
      }

      // TODO: remove hard-coded colors
      > trough > progress {
        background-image: radial-gradient(
          45% 50% at center,
          gtkalpha($selected_bg_color, 0.1),
          transparent
        ), linear-gradient(
          to right,
          #abcaf2,
          #83cbf8 50%,
          #52bff7 51%,
          #addef6
        );
        background-size: 16px 32px, auto;
        box-shadow: inset 1px 0 gtkalpha($light_shadow, 0.4),
                    inset -1px 0 gtkalpha($light_shadow, 0.2);

        &:backdrop { background-color: $backdrop_selected_bg_color; }
      }
    }
    
    &.horizontal > trough { min-width: 150px; }
    &.vertical > trough { min-height: 80px; }

    &.horizontal > trough,
    &.horizontal > trough > progress {
      min-height: 16px;
    }

    &.vertical > trough,
    &.vertical > trough > progress {
      min-width: 16px;
    }
  }
}
