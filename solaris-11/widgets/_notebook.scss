@mixin notebook_header() {
  background-color: $bg_color;
  
  @at-root
  notebook.frame {
    border: 1px solid black;
  }
  
  &.top {
    margin-bottom: 0;
    border-bottom: 4px solid #bbd0e3;
    box-shadow: 0 1px black, inset 0 -1px black;
  }

  &.bottom {
    margin-top: 0;
    border-top: 4px solid #bbd0e3;
    box-shadow: 0 -1px black, inset 0 1px black;
  }

  &.left {
    margin-right: 0;
    border-right: 4px solid #bbd0e3;
    box-shadow: 1px 0 black, inset -1px 0 black;
  }

  &.right {
    margin-left: 0;
    border-left: 4px solid #bbd0e3;
    box-shadow: -1px 0 black, inset 1px 0 black;
  }
  
  /*
  &.top { box-shadow: 0 1px $border_color; }
  &.bottom { box-shadow: 0 -1px $border_color; }
  &.left { box-shadow: 1px 0 $border_color; }
  &.right { box-shadow: -1px 0 $border_color; }
  */
}

@mixin notebook_tab($type, $pos) {
  @if $type == "base" {
    margin: 0px;
    padding: 4px 6px;
    border-radius: $notebook_tab_radius;
    border: 1px solid gtkshade($bg_color, 0.7);
    color: $fg_color;
    background-color: $bg_color;
    
    // less opaque shadows for dark variant
    @if $variant == 'dark' {
      box-shadow: inset 0 -3px 4px 0 gtkalpha(white, 0.45),
                  inset 0 1px 0 0 gtkalpha(white, 0.6),
                  inset 0 8px 4px 0 gtkalpha(white, 0.35);
    }
    @else {
      box-shadow: inset 0 -3px 4px 0 gtkalpha(white, 0.65),
                  inset 0 1px 0 0 gtkalpha(white, 0.7),
                  inset 0 8px 4px 0 gtkalpha(white, 0.5);
    }
    
    @if $pos == "top" {
      margin-top: 2px;
      border-bottom: 1px solid black;
    }
    @else if $pos == "bottom" {
      margin-bottom: 2px;
      border-top: 1px solid black;
    }
    @else if $pos == "left" {
      margin-left: 2px;
      border-right: 1px solid black;
    }
    @else if $pos == "right" {
      margin-right: 2px;
      border-left: 1px solid black;
    }
  }

  @else if $type == "checked" {
    border-color: #394e61;
    background-color: #a3b8cb;
    
    // invert bottom tab shadow
    @if $pos == "bottom" {
      box-shadow: inset 0 3px 4px 0 gtkalpha(white, 0.3),
                  inset 0 -1px 0 0 gtkalpha(white, 0.7),
                  inset 0 -8px 4px 0 gtkalpha(white, 0.5);
    }
    @else {
      box-shadow: inset 0 -3px 4px 0 gtkalpha(white, 0.3),
                  inset 0 1px 0 0 gtkalpha(white, 0.7),
                  inset 0 8px 4px 0 gtkalpha(white, 0.5);
    }

    @if $pos == "top" {
      border-top-left-radius: $notebook_tab_radius + 2px;
      border-top-right-radius: $notebook_tab_radius + 2px;
      margin-top: 0;
      margin-bottom: -1px;
      border-bottom: none;
    }
    @else if $pos == "bottom" {
      border-bottom-left-radius: $notebook_tab_radius + 2px;
      border-bottom-left-radius: $notebook_tab_radius + 2px;
      margin-bottom: 0;
      margin-top: -1px;
      border-top: none;
    }
    @else if $pos == "left" {
      border-top-left-radius: $notebook_tab_radius + 2px;
      border-bottom-left-radius: $notebook_tab_radius + 2px;
      margin-left: 0;
      margin-right: -1px;
      border-right: none;
    }
    @else if $pos == "right" {
      border-top-right-radius: $notebook_tab_radius + 2px;
      border-bottom-right-radius: $notebook_tab_radius + 2px;
      margin-right: 0;
      margin-left: -1px;
      border-left: none;
    }
  }
}
